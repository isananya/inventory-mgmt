<div class="shop-container">

    <div class="top-bar">
        <button class="menu-btn" (click)="toggleSidebar()">‚ò∞</button>
        <div class="search-box">
            <input type="text" placeholder="Search products..." [(ngModel)]="searchQuery" (keyup.enter)="onSearch()">
            <button (click)="onSearch()">üîçÔ∏é</button>
        </div>
    </div>

    <div class="content-area">

        <div class="sidebar" [class.open]="sidebarOpen">
            <div class="sidebar-header">
                <h3>Categories</h3>
                <button class="close-btn" (click)="toggleSidebar()">√ó</button>
            </div>
            <ul>
                <li (click)="selectCategory(0); loadProducts()">All Products</li>
                <li *ngFor="let cat of categories" (click)="selectCategory(cat.id)">
                    {{ cat.name }}
                </li>
            </ul>
        </div>

        <div class="backdrop" *ngIf="sidebarOpen" (click)="toggleSidebar()"></div>

        <div class="product-grid-container">
            <div class="grid" *ngIf="products.length > 0; else noData">
                <app-product-card *ngFor="let p of products" [product]="p">
                </app-product-card>
            </div>

            <ng-template #noData>
                <div class="empty-state">No products found.</div>
            </ng-template>

            <div class="pagination" *ngIf="totalPages > 1">
                <button [disabled]="currentPage === 0" (click)="changePage(-1)">Prev</button>
                <span>Page {{ currentPage + 1 }} of {{ totalPages }}</span>
                <button [disabled]="currentPage >= totalPages - 1" (click)="changePage(1)">Next</button>
            </div>
        </div>

    </div>
</div>