
1.0isananya_inventory-mgmtJavaFrontend"1767529078392*java2.Bæ 
U
Pbilling-service/src/main/java/com/chubb/inventoryapp/service/InvoiceService.java2
	
type3
	
MAIN4


module-key5

billing-service6

package8
3
.billing-service:com.chubb.inventoryapp.service9
3
-com.chubb.inventoryapp.service.InvoiceService11

class12

access13

public14


full-range15

(21:1)-(107:2)16

simple-name17

InvoiceService18
,
&org.springframework.stereotype.Service20

unknown21

annotated by22


uses23
E
?com.chubb.inventoryapp.service.InvoiceService.invoiceRepository25

field26

private27

(24:2)-(24:52)28

invoiceRepository29
9
3com.chubb.inventoryapp.repository.InvoiceRepository31

is type32
?
9com.chubb.inventoryapp.service.InvoiceService.orderClient34

(25:5)-(25:50)35

orderClient36
5
/com.chubb.inventoryapp.feign.OrderClientWrapper38
B
<com.chubb.inventoryapp.service.InvoiceService.eventPublisher40

(26:5)-(26:56)41

eventPublisher42
8
2com.chubb.inventoryapp.event.InvoiceEventPublisher44
Ø
Ñcom.chubb.inventoryapp.service.InvoiceService#<init>(Lcom/chubb/inventoryapp/repository/InvoiceRepository;Lcom/chubb/inventoryapp/feign/OrderClientWrapper;Lcom/chubb/inventoryapp/event/InvoiceEventPublisher;)V46

method47

(28:2)-(33:3)48

	has param49

calls50


references51
‘
Šcom.chubb.inventoryapp.service.InvoiceService#generateInvoice(Ljava/lang/Long;Lcom/chubb/inventoryapp/dto/InvoiceRequest;)Ljava/lang/Long;53

(35:2)-(66:6)54

generateInvoice55
/
)com.chubb.inventoryapp.dto.InvoiceRequest57
m
gcom.chubb.inventoryapp.repository.InvoiceRepository#findByOrderId(Ljava/lang/Long;)Ljava/util/Optional;59
D
>com.chubb.inventoryapp.exception.InvoiceAlreadyExistsException61
.
(com.chubb.inventoryapp.dto.OrderResponse63

returns64
~
xcom.chubb.inventoryapp.feign.OrderClientWrapper#getOrderById(Ljava/lang/Long;)Lcom/chubb/inventoryapp/dto/OrderResponse;66
*
$com.chubb.inventoryapp.model.Invoice68
0
*com.chubb.inventoryapp.model.PaymentStatus70
9
3com.chubb.inventoryapp.model.PaymentStatus.REFUNDED72
.
(com.chubb.inventoryapp.model.PaymentMode74
2
,com.chubb.inventoryapp.model.PaymentMode.COD76
8
2com.chubb.inventoryapp.model.PaymentStatus.PENDING78
5
/com.chubb.inventoryapp.model.PaymentStatus.PAID80
8
2org.springframework.data.repository.CrudRepository82
c
]org.springframework.data.repository.CrudRepository#save(Ljava/lang/Object;)Ljava/lang/Object;84
v
pcom.chubb.inventoryapp.event.InvoiceEventPublisher#publishInvoiceGenerated(Ljava/lang/Long;Ljava/lang/String;F)V86
…
com.chubb.inventoryapp.service.InvoiceService#getInvoiceByOrderId(Ljava/lang/Long;)Lcom/chubb/inventoryapp/dto/InvoiceResponse;88

(68:2)-(73:6)89

getInvoiceByOrderId90
0
*com.chubb.inventoryapp.dto.InvoiceResponse92
?
9com.chubb.inventoryapp.exception.InvoiceNotFoundException94
–
com.chubb.inventoryapp.service.InvoiceService#mapToResponse(Lcom/chubb/inventoryapp/model/Invoice;)Lcom/chubb/inventoryapp/dto/InvoiceResponse;96
|
vcom.chubb.inventoryapp.service.InvoiceService#getInvoice(Ljava/lang/Long;)Lcom/chubb/inventoryapp/dto/InvoiceResponse;98

(75:2)-(80:6)99


getInvoice100
j
corg.springframework.data.repository.CrudRepository#findById(Ljava/lang/Object;)Ljava/util/Optional;102
–
Žcom.chubb.inventoryapp.service.InvoiceService#getAllInvoices(Lorg/springframework/data/domain/Pageable;)Lorg/springframework/data/domain/Page;104

(82:2)-(86:6)105

getAllInvoices106
+
$org.springframework.data.domain.Page108
/
(org.springframework.data.domain.Pageable110
E
>org.springframework.data.repository.PagingAndSortingRepository112
 
˜org.springframework.data.repository.PagingAndSortingRepository#findAll(Lorg/springframework/data/domain/Pageable;)Lorg/springframework/data/domain/Page;114
t
morg.springframework.data.domain.Page#map(Ljava/util/function/Function;)Lorg/springframework/data/domain/Page;116
ˆ
€com.chubb.inventoryapp.service.InvoiceService#updateInvoiceStatus(Ljava/lang/Long;Lcom/chubb/inventoryapp/model/PaymentStatus;)V118

(88:2)-(94:6)119

updateInvoiceStatus120

(96:2)-(106:6)121

mapToResponse122J%
#
1
12

3
4

5
6 Z

7
7982


5
68j§

91
919221

77
777821

85
858621

56
565721

81
818221
N
24H
242526 *
1" (3210:7B$


13
27


15
28


17
29

73
737421
N
87H
878847 *
1D D(,210:7B$


13
14


15
89


17
90

43
434421
P
95J
959647 *
1` `('210:7B&


13
27

15
121

17
122
S
103L
10310447 *
1R R(-210:7B&


13
14

15
105

17
106

30
303121

19
192021

109
10911021
N
52H
525347 *
1# #(210:7B$


13
14


15
54


17
55

65
656621

58
585921

79
798021

60
606121
N
45H
454647 *
1	 (210:7B$


13
14


15
48


17
18

83
838421

111
11111221

113
11311421
N
33H
333426 *
1& (1210:7B$


13
27


15
35


17
36

69
697021
N
39H
394026 *
1) (7210:7B$


13
27


15
41


17
42

71
717221

62
626321

107
10710821

115
11511621

67
676821
O
97I
979847 *
1K K(#210:7B%


13
14


15
99

17
100

75
757621
J
10D
101112 *
1 (:7B$


13
14


15
16


17
18

93
939421
S
117L
11711847 *
1X X(!210:7B&


13
14

15
119

17
120

37
373821

101
10110221r¶

101922*
1 (	

101923*
1 (	

243032*
1 (!

243023*
1 (!

243023*
1" (3

333732*
1 (%

333723*
1 (%

333723*
1& (1

394332*
1 ((

394323*
1 ((

394323*
1) (7

453049*
1 ()

453749*
1= (O

454349*
1] (r

451050*
1	 (

453032*
1* (;

453023*
1 ()

453732*
1P ([

453723*
1= (O

454332*
1s (

454323*
1] (r

451023*
1 (

451051*
1 (

453023*
1 (

452451*
1 (

451023*
1 (

451051*
1 (

453723*
1 (

453351*
1 (

451023*
1   (

451051*
1   (

454323*
1   (

453951*
1   (

525649*
1#, #(:

525632*
1#; #(B

525623*
1#, #(:

523051*
1$ $(&

525850*
1$ $(&

522451*
1$ $(

523023*
1$ $(

522451*
1$ $(

526050*
1% %(1

526232*
1( ((

526223*
1(	 ((

526264*
1( ((7

523751*
1( ((7

526550*
1(+ ((7

523351*
1( ((*

523723*
1( ((*

523351*
1( ((*

526732*
1* *(

526723*
1*	 *(

526750*
1* *(&

526923*
12# 2(0

526923*
121 2(9

527151*
121 2(9

527323*
15. 5(9

527323*
15: 5(=

527551*
15: 5(=

526923*
16$ 6(1

526923*
162 6(9

527751*
162 6(9

526923*
19$ 9(1

526923*
192 9(6

527951*
192 9(6

526764*
1=	 =(

528151*
1=	 =(

528350*
1= =(

522451*
1=	 =(

523023*
1=	 =(

522451*
1=	 =(

524351*
1?	 ?(/

528550*
1? ?(/

523951*
1?	 ?(

524323*
1?	 ?(

523951*
1?	 ?(

879164*
1D	 D(

879123*
1D	 D(

876732*
1E E(

876723*
1E	 E(

876764*
1E F(

873051*
1E E(:

875850*
1E- E(:

872451*
1E E(,

873023*
1E E(,

872451*
1E E(,

879350*
1F( F(@

879164*
1H H(

871051*
1H H(

879550*
1H H(

979164*
1K	 K(

979123*
1K	 K(

976732*
1L L(

976723*
1L	 L(

976764*
1L M(

978151*
1L L(5

9710150*
1L- L(5

972451*
1L L(,

973023*
1L L(,

972451*
1L L(,

979350*
1M( M(@

979164*
1O O(

971051*
1O O(

979550*
1O O(

10310764*
1R	 R(

10310949*
1R. R(6

10310723*
1R	 R(

1039123*
1R R(

10310932*
1R7 R(?

10310923*
1R. R(6

10310732*
1S S("

10310723*
1S	 S(

1036723*
1S S(

10310764*
1S% S(>

10311151*
1S% S(>

10311350*
1S7 S(>

1032451*
1S% S(6

1033023*
1S% S(6

1032451*
1S% S(6

10310764*
1U U(

10310751*
1U U(

10311550*
1U U(

1031023*
1U  U($

1031051*
1U  U($

1176949*
1X+ X(8

1176932*
1X9 X(?

1176923*
1X+ X(8

1176732*
1Y Y(

1176723*
1Y	 Y(

1176764*
1Y Z(

1173051*
1Y Y(:

1175850*
1Y- Y(:

1172451*
1Y Y(,

1173023*
1Y Y(,

1172451*
1Y Y(,

1179350*
1Z( Z(@

1176764*
1]	 ](

1178151*
1]	 ](

1178350*
1] ](

1172451*
1]	 ](

1173023*
1]	 ](

1172451*
1]	 ](

959164*
1`
 `(

956749*
1`( `(/

959123*
1`
 `(

956732*
1`0 `(7

956723*
1`( `(/